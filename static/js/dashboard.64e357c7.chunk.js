"use strict";(self.webpackChunkgratify_web=self.webpackChunkgratify_web||[]).push([[966],{2999:function(n,e,t){t.d(e,{Z:function(){return u}});t(2791);var r,i,o=t(168),a=t(6444),c=a.ZP.span(r||(r=(0,o.Z)(["\n  display: block;\n  margin-top: 8px;\n  color: #04d361;\n  ","\n"])),(function(n){return"error"===n.type&&(0,a.iv)(i||(i=(0,o.Z)(["\n      color: #c53030;\n    "])))})),s=t(184),u=function(n){var e=n.status;return e?(0,s.jsx)(c,{type:null===e||void 0===e?void 0:e.type,children:(0,s.jsx)("strong",{children:null===e||void 0===e?void 0:e.message})}):(0,s.jsx)(s.Fragment,{})}},9123:function(n,e,t){t.d(e,{$:function(){return i}});var r=t(2791),i=function(n){return r.useState(n)}},3718:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var r,i,o,a,c,s=t(2982),u=t(4165),d=t(5861),l=t(885),p=t(2791),f=t(9880),x=t(168),h=t(6444),g=h.ZP.div(r||(r=(0,x.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  svg {\n    cursor: pointer;\n  }\n"]))),v=h.ZP.div(i||(i=(0,x.Z)(["\n  width: 100%;\n  margin-top: 20px;\n"]))),Z=t(2999),y=h.ZP.div(o||(o=(0,x.Z)(["\n  width: 100%;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n\n  img {\n    height: 64px;\n    border-radius: 50%;\n    margin: 0px 80px 0px 80px;\n  }\n  svg {\n    cursor: pointer;\n  }\n"]))),m=t(3853),w=t.p+"static/media/user.ae3a914be1e9f200b221.png",j=t(7538),b=t(184),k=function(){var n=(0,j._)(),e=n.user,t=n.logOut,r=function(){var n=(0,d.Z)((0,u.Z)().mark((function n(){return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}();return(0,b.jsxs)(y,{children:[(0,b.jsx)("img",{src:e.photoURL?e.photoURL:w,onError:function(n){var e=n.currentTarget;e.onerror=null,e.src=w},alt:"User photograph"}),(0,b.jsx)(m.xqh,{size:30,onClick:function(){return r()}})]})},C=t(1413),J=(h.ZP.h1(a||(a=(0,x.Z)(["\n  font-size: 36px;\n  color: #3a3a3a;\n"]))),h.ZP.div(c||(c=(0,x.Z)(["\n  /* max-width: 400px; */\n  width: 100%;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  padding: 0px;\n  margin: 10px 0px 0px 0px;\n\n  background-color: #eee;\n  border-radius: 5px;\n  border-left: 3px dashed lightgray;\n\n  div {\n    margin-left: 10px;\n    width: 100%;\n  }\n\n  .ContentContainer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    width: 100%;\n    border-radius: 5px 5px 0px 0px;\n    margin: 0;\n    background: #fff;\n\n    header {\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n\n      svg {\n        margin: 10px;\n        cursor: pointer;\n      }\n    }\n\n\n\n    strong {\n      color: darkgray;\n      width: 100%;\n      padding: 10px;\n      display: flex;\n      gap: 10px;\n      align-items: center;\n      input,select {\n        width: fit-content;\n        margin: 0px;\n        height: 30px;\n        color: black;\n      }\n    }\n\n    span {\n      border: 0px;\n      padding: 10px;\n      width: 100%;\n      text-align: justify;\n    }\n\n    span:empty::before {\n      content: attr(data-placeholder);\n      color: lightgray;\n    }\n\n    span:focus {\n      outline: none;\n    }\n\n    .ActionContainer {\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-around;\n      margin: 4px;\n      p {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        * {\n          margin-right: 5px;\n        }\n      }\n    }\n  }\n"])))),S=function(n){try{JSON.parse(n)}catch(e){return!1}return!0},O={type:"record",text:"",color:"red",fixed:!1},N=function(n){var e=n.id,t=n.number,r=n.content,i=n.onDeleteCard,o=n.onChangeContent,a=p.useRef(null),c=S(r)?JSON.parse(r):(0,C.Z)((0,C.Z)({},O),{},{text:r});return(0,b.jsx)(J,{color:c.color,children:(0,b.jsxs)("div",{className:"ContentContainer",children:[(0,b.jsxs)("header",{children:[(0,b.jsxs)("strong",{children:[(0,b.jsx)("input",{type:"checkbox",checked:c.fixed,onChange:function(n){return o(e,JSON.stringify((0,C.Z)((0,C.Z)({},c),{},{fixed:n.target.checked})))}}),t,"#",(0,b.jsxs)("select",{value:c.type,onChange:function(n){return o(e,JSON.stringify((0,C.Z)((0,C.Z)({},c),{},{type:n.target.value})))},children:[(0,b.jsx)("option",{value:"note",children:"Note"}),(0,b.jsx)("option",{value:"gratitude",children:"Gratitude"}),(0,b.jsx)("option",{value:"record",children:"Record"})]})]}),(0,b.jsx)(m.Ybf,{onClick:function(n){return i(e)}})]}),(0,b.jsx)("span",{ref:a,role:"textbox",contentEditable:!0,"data-placeholder":"What do you have for today?",onBlur:function(n){return o(e,JSON.stringify((0,C.Z)((0,C.Z)({},c),{},{text:n.target.innerText})))},suppressContentEditableWarning:!0,children:c.text})]})},e)},P=t(9123),U=t(6666),E=t.n(U),F=t(7142),D=t(9062),R=function(){var n=(new Date).toISOString().split("T")[0],e=p.useState(n),t=(0,l.Z)(e,2),r=t[0],i=t[1],o=p.useState([]),a=(0,l.Z)(o,2),c=a[0],x=a[1],h=(0,P.$)(null),y=(0,l.Z)(h,2),w=y[0],C=(y[1],p.useRef(null)),J=(0,j._)().user,O=function(n){var e=new Date(r);e.setDate(e.getDate()+n);var t=e.toISOString().split("T")[0];i(t),null!==C&&null!==C.current&&(C.current.value=t)};function U(){return(U=(0,d.Z)((0,u.Z)().mark((function n(e){var t,i,o,a;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={uid:J.uid,id:E()(),content:"",date:r},i=[].concat((0,s.Z)(c),[t]),x(i),o=(0,D.JU)(F.Fs,"users",J.uid),a=(0,D.hJ)(o,"entries"),n.next=7,(0,D.ET)(a,t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function R(){return R=(0,d.Z)((0,u.Z)().mark((function n(){var e,t,r,i;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,D.JU)(F.Fs,"users",J.uid),t=(0,D.hJ)(e,"entries"),n.next=4,(0,D.PL)(t);case 4:r=n.sent,i=[],r.forEach((function(n){i.push(n.data())})),x(i);case 8:case"end":return n.stop()}}),n)}))),R.apply(this,arguments)}p.useEffect((function(){!function(){R.apply(this,arguments)}()}),[]);var z=function(){var n=(0,d.Z)((0,u.Z)().mark((function n(e){var t,r,i,o;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=c.filter((function(n){return n.id!==e})),x(t),r=(0,D.JU)(F.Fs,"users",J.uid),i=(0,D.hJ)(r,"entries"),o=(0,D.IO)(i,(0,D.ar)("id","==",e)),n.next=7,(0,D.PL)(o);case 7:n.sent.forEach((function(n){(0,D.oe)((0,D.JU)(F.Fs,"users/".concat(J.uid,"/entries"),n.id))}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),L=function(){var n=(0,d.Z)((0,u.Z)().mark((function n(e,t){var r,i,o,a,s;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=c.map((function(n){return n.id===e&&(n.content=t),n})),x(r),!(i=c.find((function(n){return n.id===e})))){n.next=12;break}return i.content=t,o=(0,D.JU)(F.Fs,"users",J.uid),a=(0,D.hJ)(o,"entries"),s=(0,D.IO)(a,(0,D.ar)("id","==",e)),n.next=10,(0,D.PL)(s);case 10:n.sent.forEach((function(n){(0,D.pl)((0,D.JU)(F.Fs,"users/".concat(J.uid,"/entries"),n.id),i)}));case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),T=0;return(0,b.jsxs)(f.we,{children:[(0,b.jsx)(k,{}),(0,b.jsx)(Z.Z,{status:w}),(0,b.jsxs)(g,{children:[(0,b.jsx)(m.Ao2,{size:30,onClick:function(){return O(-1)}}),(0,b.jsx)("input",{ref:C,type:"date",defaultValue:n,onChange:function(n){i(n.target.value)}}),(0,b.jsx)(m.Rgz,{size:30,onClick:function(){return O(1)}})]}),(0,b.jsx)(v,{children:c.map((function(n,e){return console.log(n),n.date===r||S(n.content)&&!0===JSON.parse(n.content).fixed?(0,b.jsx)(N,{id:n.id,number:T+=1,content:n.content,onDeleteCard:z,onChangeContent:L},n.id):(0,b.jsx)("div",{},n.id)}))}),(0,b.jsx)(f.op,{color:"#04d361",onClick:function(n){return U.apply(this,arguments)},children:"Add New"})]})}}}]);
//# sourceMappingURL=dashboard.64e357c7.chunk.js.map