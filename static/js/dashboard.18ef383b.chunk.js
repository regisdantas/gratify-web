"use strict";(self.webpackChunkgratify_web=self.webpackChunkgratify_web||[]).push([[966],{3519:function(n,e,t){t.r(e),t.d(e,{default:function(){return N}});var r,i,a,o=t(2982),s=t(4165),c=t(5861),u=t(885),d=t(2791),p=t(9880),l=t(1413),f=t(168),x=t(6444),h=(x.ZP.h1(r||(r=(0,f.Z)(["\n  font-size: 36px;\n  color: #3a3a3a;\n"]))),x.ZP.div(i||(i=(0,f.Z)(["\n  /* max-width: 400px; */\n  width: 100%;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  padding: 0px;\n  margin: 10px 0px 0px 0px;\n\n  background-color: #eee;\n  border-radius: 5px;\n  border-left: 3px dashed lightgray;\n\n  div {\n    margin-left: 10px;\n    width: 100%;\n  }\n\n  .ContentContainer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    width: 100%;\n    border-radius: 5px 5px 0px 0px;\n    margin: 0;\n    background: #fff;\n\n    header {\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n\n      svg {\n        margin: 10px;\n        cursor: pointer;\n      }\n    }\n\n    span {\n      display: flex;\n      padding: 0;\n      margin: 0;\n      gap: 5px;\n      align-items: center;\n    }\n    input,\n    select {\n      width: fit-content;\n      margin: 0px;\n      height: 30px;\n      color: black;\n      border: none;\n    }\n\n    strong {\n      color: darkgray;\n      width: 100%;\n      display: flex;\n      gap: 10px;\n      align-items: center;\n    }\n\n    span {\n      border: 0px;\n      padding: 10px;\n      width: 100%;\n      text-align: justify;\n    }\n\n    span:empty::before {\n      content: attr(data-placeholder);\n      color: lightgray;\n    }\n\n    span:focus {\n      outline: none;\n    }\n\n    .ActionContainer {\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-around;\n      margin: 4px;\n      p {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        * {\n          margin-right: 5px;\n        }\n      }\n    }\n  }\n"])))),g=t(3853),y=function(n){try{JSON.parse(n)}catch(e){return!1}return!0},m=t(1578),w=t(184),Z={type:"record",text:"",color:"red",fixed:!1},v=function(n){var e=n.id,t=n.number,r=n.content,i=n.onDeleteCard,a=n.onChangeContent,o=d.useRef(null),s=y(r)?JSON.parse(r):(0,l.Z)((0,l.Z)({},Z),{},{text:r});return(0,w.jsx)(h,{color:s.color,children:(0,w.jsxs)("div",{className:"ContentContainer",children:[(0,w.jsxs)("header",{children:[(0,w.jsxs)("strong",{children:[s.fixed?(0,w.jsx)(m.HRl,{size:24}):(0,w.jsx)(m.oaL,{size:24}),(0,w.jsxs)("select",{value:s.type,onChange:function(n){return a(e,JSON.stringify((0,l.Z)((0,l.Z)({},s),{},{type:n.target.value})))},children:[(0,w.jsx)("option",{value:"note",children:"Note"}),(0,w.jsx)("option",{value:"gratitude",children:"Gratitude"}),(0,w.jsx)("option",{value:"journal",children:"Journal"})]}),(0,w.jsxs)("strong",{children:[t,"# ",e]})]}),(0,w.jsx)(g.Ybf,{onClick:function(n){return i(e)}})]}),(0,w.jsx)("span",{ref:o,role:"textbox",contentEditable:!0,"data-placeholder":"What do you have for today?",onBlur:function(n){return a(e,JSON.stringify((0,l.Z)((0,l.Z)({},s),{},{text:n.target.innerText})))},suppressContentEditableWarning:!0,children:s.text})]})},e)},j=t(6666),b=t.n(j),C=x.ZP.div(a||(a=(0,f.Z)(["\n  width: 100%;\n  margin-top: 20px;\n"]))),J=t(7142),k=t(9062),S=t(7538),N=function(){var n=d.useState([]),e=(0,u.Z)(n,2),t=e[0],r=e[1],i=(0,S._)().user,a=(new Date).toISOString().split("T")[0],l=d.useState(!1),f=(0,u.Z)(l,2),x=f[0];f[1];function h(){return(h=(0,c.Z)((0,s.Z)().mark((function n(e){var c,u,d,p;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={uid:i.uid,id:b()(),content:"",date:a},u=[].concat((0,o.Z)(t),[c]),r(u),d=(0,k.JU)(J.Fs,"users",i.uid),p=(0,k.hJ)(d,"entries"),n.next=7,(0,k.ET)(p,c);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(){return g=(0,c.Z)((0,s.Z)().mark((function n(){var e,t,a,o;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,k.JU)(J.Fs,"users",i.uid),t=(0,k.hJ)(e,"entries"),n.next=4,(0,k.PL)(t);case 4:a=n.sent,o=[],a.forEach((function(n){o.push(n.data())})),r(o);case 8:case"end":return n.stop()}}),n)}))),g.apply(this,arguments)}d.useEffect((function(){!function(){g.apply(this,arguments)}()}),[]);var m=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(e){var a,o,c,u;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.filter((function(n){return n.id!==e})),r(a),o=(0,k.JU)(J.Fs,"users",i.uid),c=(0,k.hJ)(o,"entries"),u=(0,k.IO)(c,(0,k.ar)("id","==",e)),n.next=7,(0,k.PL)(u);case 7:n.sent.forEach((function(n){(0,k.oe)((0,k.JU)(J.Fs,"users/".concat(i.uid,"/entries"),n.id))}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(e,a){var o,c,u,d,p;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.map((function(n){return n.id===e&&(n.content=a),n})),r(o),!(c=t.find((function(n){return n.id===e})))){n.next=12;break}return c.content=a,u=(0,k.JU)(J.Fs,"users",i.uid),d=(0,k.hJ)(u,"entries"),p=(0,k.IO)(d,(0,k.ar)("id","==",e)),n.next=10,(0,k.PL)(p);case 10:n.sent.forEach((function(n){(0,k.pl)((0,k.JU)(J.Fs,"users/".concat(i.uid,"/entries"),n.id),c)}));case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),j=0;return(0,w.jsx)(p.we,{children:(0,w.jsxs)(p.cm,{children:[(0,w.jsx)(C,{children:t.map((function(n,e){return console.log(n),x||n.date===a||y(n.content)&&!0===JSON.parse(n.content).fixed?(0,w.jsx)(v,{id:n.id,number:j+=1,content:n.content,onDeleteCard:m,onChangeContent:Z},n.id):(0,w.jsx)("div",{},n.id)}))}),(0,w.jsx)(p.op,{color:"#04d361",onClick:function(n){return h.apply(this,arguments)},children:"Add New"})]})})}}}]);
//# sourceMappingURL=dashboard.18ef383b.chunk.js.map